[gd_scene load_steps=18 format=3 uid="uid://d36vvb6ivwdds"]

[ext_resource type="Script" path="res://label_fps.gd" id="1_583x4"]
[ext_resource type="Script" path="res://sockets.gd" id="1_wt6xa"]
[ext_resource type="Script" path="res://camera_follow.gd" id="2_6bj65"]
[ext_resource type="Script" path="res://map_data.gd" id="2_et5o6"]
[ext_resource type="Script" path="res://vsync_check_button.gd" id="2_fkubr"]
[ext_resource type="Script" path="res://sockets_label.gd" id="4_ckaqj"]
[ext_resource type="Script" path="res://map_data_label.gd" id="4_x630f"]
[ext_resource type="Script" path="res://truck.gd" id="5_k5niq"]
[ext_resource type="Script" path="res://vehicles.gd" id="7_jhmr7"]
[ext_resource type="Script" path="res://roads.gd" id="9_115pj"]
[ext_resource type="Material" uid="uid://dmaxysuvanmss" path="res://Materials/road.tres" id="10_aeket"]
[ext_resource type="Material" uid="uid://dvbqi3ppkgwc" path="res://Materials/markings.tres" id="11_7fqt1"]

[sub_resource type="LabelSettings" id="LabelSettings_j8g1s"]

[sub_resource type="LabelSettings" id="LabelSettings_rgrby"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_7bgrn"]
sky_top_color = Color(0.0313726, 0.0313726, 0.0431373, 1)
sky_horizon_color = Color(0.0313726, 0.0313726, 0.0431373, 1)
sky_curve = 0.0137258
ground_bottom_color = Color(0.129412, 0.129412, 0.129412, 1)
ground_horizon_color = Color(0.0313726, 0.0313726, 0.0431373, 1)
ground_curve = 0.0721001
sun_curve = 0.0123706

[sub_resource type="Sky" id="Sky_mdw6i"]
sky_material = SubResource("ProceduralSkyMaterial_7bgrn")

[sub_resource type="Environment" id="Environment_2nolm"]
background_mode = 2
sky = SubResource("Sky_mdw6i")
fog_enabled = true
fog_mode = 1
fog_light_color = Color(0.0745098, 0.0745098, 0.0745098, 1)
fog_density = 1.0
fog_depth_begin = 20.0
fog_depth_end = 150.0

[node name="Node3D" type="Node3D"]

[node name="Sockets" type="Node" parent="."]
script = ExtResource("1_wt6xa")

[node name="MapData" type="Node" parent="."]
script = ExtResource("2_et5o6")

[node name="VBoxContainer" type="VBoxContainer" parent="."]
offset_left = 10.0
offset_top = 10.0
offset_right = 356.0
offset_bottom = 68.0

[node name="Label" type="Label" parent="VBoxContainer"]
layout_mode = 2
text = "Seems like my prefab code broke something...
I have disabled prefabs on this build, they do work on a local .exe!"

[node name="Disclaimer" type="Label" parent="VBoxContainer"]
layout_mode = 2
text = "THIS VISUALISATION IS VERY MUCH WIP!"
script = ExtResource("1_583x4")

[node name="MapData" type="Label" parent="VBoxContainer"]
layout_mode = 2
label_settings = SubResource("LabelSettings_j8g1s")
script = ExtResource("4_x630f")

[node name="VsyncButton" type="CheckButton" parent="VBoxContainer"]
visible = false
layout_mode = 2
button_pressed = true
text = "vsync (only native app)"
script = ExtResource("2_fkubr")

[node name="Sockets" type="Label" parent="VBoxContainer"]
layout_mode = 2
label_settings = SubResource("LabelSettings_rgrby")
script = ExtResource("4_ckaqj")

[node name="Truck" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.012, 1, 2.774)
size = Vector3(1.43958, 1.61023, 6.54785)
script = ExtResource("5_k5niq")
offset = Vector3(0, 0.8, 0)

[node name="TruckTracker" type="Node3D" parent="." node_paths=PackedStringArray("target")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.799465, 0)
script = ExtResource("2_6bj65")
target = NodePath("../Truck")

[node name="Camera3D" type="Camera3D" parent="TruckTracker"]
transform = Transform3D(1, 0, 0, 0, 0.901833, 0.432086, 0, -0.432086, 0.901833, 0, 8, 13)
environment = SubResource("Environment_2nolm")
projection = 2
current = true
fov = 48.4
size = 0.05
far = 180.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.961262, 0.275637, 0, -0.275637, -0.961262, 0, 1.58165, 0)

[node name="Vehicles" type="Node" parent="."]
script = ExtResource("7_jhmr7")

[node name="Map" type="Node" parent="."]

[node name="RoadsAndPrefabs" type="Node" parent="Map"]
script = ExtResource("9_115pj")
roadMat = ExtResource("10_aeket")
markingMat = ExtResource("11_7fqt1")

[node name="HTTPRequest" type="HTTPRequest" parent="."]
timeout = 1.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.53676, 0, 0)
